const sqlite3=require("sqlite3").verbose();const db=new sqlite3.Database("./shop.db");function ajouter_Link(t,n,o){db.serialize(()=>{var e=db.prepare("INSERT INTO adminPanel (url,title,valid) VALUES (?,?,?)");e.run(n,t,o);e.finalize()})}function autoUpdate(e){db.run('UPDATE client set Payer ="No" where dtfn<=?',[e]);db.all("UPDATE service set mfty =? , mtyfn = ?, number = ? where mtyfn<=?",["XXXX-XXXX-XXXX-XXXX","Finished",null,e]);db.serialize(()=>{db.get("SELECT COUNT(*) AS count FROM admin",function(e,t){if(e){console.error(e.message);return}if(t.count===0){db.run("INSERT INTO admin (password,status) VALUES (?,?)",["code","N"],function(e){if(e){console.error(e.message);return}})}})});db.serialize(()=>{db.get("SELECT COUNT(*) AS count FROM admin",function(e,t){if(e){console.error(e.message);return}if(t.count===0){db.run("INSERT INTO admin (password,status) VALUES (?,?)",["code","N"],function(e){if(e){console.error(e.message);return}})}})})}function autodatee(){db.get("SELECT COUNT(*) AS count FROM service WHERE Key = mfty",(e,t)=>{console.log(t.count);console.log(e);if(t.count==1){return"true"}else{return"false"}})}module.exports={ajouter_Link:ajouter_Link,autoUpdate:autoUpdate,autodatee:autodatee};